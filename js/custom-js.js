$(function(){var t=$(".navbar-collapse");t.on("click","a:not([data-toggle])",null,function(){t.collapse("hide")})});var lastId,topMenu=$("#navbarNav"),topMenuHeight=topMenu.outerHeight()+15,menuItems=topMenu.find("a"),scrollItems=menuItems.map(function(){var t=$($(this).attr("href"));if(t.length)return t});menuItems.click(function(t){var e=$(this).attr("href"),e="#"===e?0:$(e).offset().top-topMenuHeight+1;$("html, body").stop().animate({scrollTop:e},300),t.preventDefault()}),$(window).scroll(function(){var t=$(this).scrollTop()+topMenuHeight,e=scrollItems.map(function(){if($(this).offset().top<t)return this}),e=(e=e[e.length-1])&&e.length?e[0].id:"";lastId!==e&&(lastId=e,menuItems.parent().removeClass("active").end().filter("[href='#"+e+"']").parent().addClass("active"))});